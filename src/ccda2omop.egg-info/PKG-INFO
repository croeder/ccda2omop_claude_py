Metadata-Version: 2.4
Name: ccda2omop
Version: 0.1.0
Summary: Convert C-CDA XML documents to OMOP CDM 5.3 CSV files
Author: Christophe Roeder
License: MIT
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Healthcare Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Medical Science Apps.
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: lxml>=4.9.0
Requires-Dist: PyYAML>=6.0
Requires-Dist: click>=8.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0; extra == "dev"
Requires-Dist: mypy>=1.0; extra == "dev"
Requires-Dist: black>=23.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: lxml-stubs; extra == "dev"

# ccda2omop

Convert C-CDA XML clinical documents to OMOP CDM 5.3 CSV files.

## Installation

```bash
pip install -e .
```

For development:
```bash
pip install -e ".[dev]"
```

## Usage

### Convert C-CDA to OMOP

```bash
# Single file
ccda2omop convert -i patient.xml -o output/

# With vocabulary mapping
ccda2omop convert -i patient.xml -o output/ --concept CONCEPT.csv --relationship CONCEPT_RELATIONSHIP.csv

# Directory of files
ccda2omop convert -i ccda_files/ -o output/

# With custom rules
ccda2omop convert -i patient.xml -o output/ --rules-file rules/

# Generate conversion report
ccda2omop convert -i patient.xml -o output/ --report --report-output report.json
```

### Analyze Code Mappings

```bash
ccda2omop analyze -i patient.xml --concept CONCEPT.csv
ccda2omop analyze -i patient.xml --concept CONCEPT.csv --summary
ccda2omop analyze -i patient.xml --concept CONCEPT.csv -o analysis.csv
```

## Output Tables

The converter generates 8 OMOP CDM 5.3 tables as CSV files:

- `person.csv`
- `visit_occurrence.csv`
- `condition_occurrence.csv`
- `drug_exposure.csv`
- `procedure_occurrence.csv`
- `measurement.csv`
- `observation.csv`
- `device_exposure.csv`

## YAML Mapping Rules

Custom mapping rules can be defined in YAML format. See the `rules/` directory for examples.

## License

MIT License - Copyright 2025 Christophe Roeder
